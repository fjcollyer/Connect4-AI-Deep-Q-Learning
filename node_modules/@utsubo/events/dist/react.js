"use strict";
Object.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: "Module" } });
const react = require("react");
const vanilla = require("./vanilla.js");
function useEvent(eventName, handler, deps = [], options) {
  const handlerRef = react.useRef(handler);
  react.useEffect(() => void (handlerRef.current = handler), [handler]);
  react.useEffect(() => {
    const handler2 = (event) => {
      var _a;
      return (_a = handlerRef.current) == null ? void 0 : _a.call(handlerRef, event);
    };
    const context = vanilla.onEvent(eventName, handler2, options);
    return () => vanilla.offEvent(eventName, handler2, { ...options, context });
  }, [eventName, options == null ? void 0 : options.once, ...deps]);
}
exports.useEvent = useEvent;
//# sourceMappingURL=react.js.map
